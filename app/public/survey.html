<!DOCTYPE html>
<html>

<head>
    <title>FriendFinder</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <h1 class="text-center">Survey Questions</h1>
        <hr>
        <!-- Personal Info (Required) -->
        <div class="well">
            <h3><strong>About You</strong></h3>
            <h4>Name (Required)</h4>
            <input type="text" name="" id="name" class="form-control" required>
            <h4>Link to Photo Image (Required)</h4>
            <input type="text" name="" id="pic" class="form-control" required>
        </div>
        <hr>
        <!-- Survey Goes down here -->
        <div class="well">
            <h3><strong>Question 1</strong></h3>
            <h4>You are the mastermind in the group and you are always several steps ahead of your adversaries.</h4>
            <select class="form-control" id="ques1">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h3><strong>Question 2</strong></h3>
            <h4>You wield unnatural powers that overwhelm your foes.</h4>
            <select class="form-control" id="ques2">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h3><strong>Question 3</strong></h3>
            <h4>You prefer to let others do all dirty work for you while you observe from a distance.</h4>
            <select class="form-control" id="ques3">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h3><strong>Question 4</strong></h3>
            <h4>Many would describe you as an entity that cannot perish permanently. You always find a way to return.</h4>
            <select class="form-control" id="ques4">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h3><strong>Question 5</strong></h3>
            <h4>You have many followers within your organization and/or army.</h4>
            <select class="form-control" id="ques5">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h3><strong>Question 6</strong></h3>
            <h4>You are the type to help the weak and you cannot ignore those needing aid.</h4>
            <select class="form-control" id="ques6">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h3><strong>Question 7</strong></h3>
            <h4>You are the type that enjoys others' suffering, and usually the source of their despair.</h4>
            <select class="form-control" id="ques7">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h3><strong>Question 8</strong></h3>
            <h4>You would sacrifice days, months, years, possibly your entire lifetime to safeguard the happiness of those you cherish.</h4>
            <select class="form-control" id="ques8">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h3><strong>Question 9</strong></h3>
            <h4>Everyone and everything is expendable to your cause, and if it gets in the way of your ambition, you will not hesitate to ensure you continue on your goal. This includes your friends, family, animals, even the One-Above-All (God).</h4>
            <select class="form-control" id="ques9">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h3><strong>Question 10</strong></h3>
            <h4>You sacrifice the lives of millions of various factions, many of whom are innoncent bystanders, to save the lives of your family and your beloved.</h4>
            <select class="form-control" id="ques10">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <br>
            <br>
            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary btn-lg" id="submit">
                Submit</button>
        </div>
    </div>
    <footer class="footer">
        <div class="container">
            <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/karunashi">GitHub Repo</a></p>
        </div>
    </footer>
    <!-- Modal -->
    <div id="friendMatchModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">[-X-]</button>
                    <h2 class="modal-title">You're Matched With:</h2>
                </div>
                <div class="modal-body">
                    <h2 id="friendMatchName"></h2>
                    <img id="friendMatchImg" src="#" alt="">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
    $("#submit").on("click", function() {

            // Put function to validate submission
        	var correctValueCheck = true;

        	// Check to see if the validation works
        	if ($("#name").val() === "") {
           	correctValueCheck = false;
           }
        	else if ($("#pic").val() === "") {
           	correctValueCheck = false;
           } 
        // http://stackoverflow.com/questions/1795808/and-and-or-in-if-statements - For "or"

        	else if ($("#ques1").val() === "" || $("#ques2").val() === "" || $("#ques3").val() === "" || $("#ques4").val() === "" || $("#ques5").val() === ""|| $("#ques6").val() === "" || $("#ques7").val() === "" || $("#ques8").val() === "" || $("#ques9").val() === "" || $("#ques10").val() === "") {
           	correctValueCheck = false;
           }

        // If data validation worked ~ It should create new user data and store it.
        if (correctValueCheck === true) {
            var newUserData = {
                name: $("#name").val(),
                pic: $("#pic").val(),
                charInfo: [$("#ques1").val(), $("#ques2").val(), $("#ques3").val(), $("#ques4").val(), $("#ques5").val(), $("#ques6").val(), $("#ques7").val(), $("#ques8").val(), $("#ques9").val(), $("#ques10").val()]
            }
            // Delete console.logs before submitting, for testing purposes (thank god for nodemon)
            console.log(newUserData)
            console.log(window.location.origin)

            var currentURL = window.location.origin;

            $.post(currentURL + "/api/friends", newUserData, function(info) {
            	console.log(info);
            	$("#friendMatchName").text(info.name);
            	$("#friendMatchImg").attr("src", info.pic);
            	$("#friendMatchModal").modal("toggle");
            });

        } // If statement for validation ends here

        else {
            console.log("User input not fully recorded. Please review the survey choices.");
        };

    }); // Submit button ends here
    </script>
</body>

</html>
